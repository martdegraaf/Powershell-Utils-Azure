# Azure DevOps - folder

## Intro

This folder contains scripts which communicate with Azure DevOps Api. You need to create a token at your Azure DevOps account, which you need as input in the powershell scripts in this root folder.

## Files

### Overview

| Script            | Description                                                                                          |
|-------------------|------------------------------------------------------------------------------------------------------|
| Branches          | Functions regarding Branches, i.e. which feature branches are still present put in an email          |
| Build-Definitions | Functions regarding Build Definition, i.e. Export Build Definition, Create missing build Definitions |
| Pull-Requests     | Functions regarding Pull Requests, i.e. list of pending pull requests in an email                    |
| Release Notes     | [In progress] Intend for automatically creating Release Notes.                                       |

### Examples

#### Branches

``` Powershell
Branches -accountName "<Azure DevOps Accountname>" -projectName "<Azure DevOps ProjectName>" `
-repositoryNames @('<git-repo-001>','<git-repo-002>') -displayDebugMessages $true -token "<your Azure DevOps PAT token>" `
-dropFolderMail "C:\temp\MailDrop" -senderMail "<xxx.xxxxxx@domain.com>"
```

#### Build-Definitions

##### Export-BuildDefinition

``` Powershell
Export-BuildDefinition -accountName "<Azure DevOps Accountname>" -projectName "<Azure DevOps ProjectName>" `
-repositoryNames @('<git-repo-001>') -displayDebugMessages $true -token "<your Azure DevOps PAT token>" `
-dropFolder "Templates\" -idBuildDefinition 0000 -componentName "<component>" -buildDefinitionPath "\subfolder\PR\"
```

##### Update-BuildDefinitions

``` Powershell
Update-BuildDefinitions -accountName "<Azure DevOps Accountname>" -projectName "<Azure DevOps ProjectName>" `
-repositoryNames @('<git-repo-001>') -displayDebugMessages $true -token "<your Azure DevOps PAT token>" `
-gitfilesPath "/" -templateFile "Templates\template_build_defintition.json" -buildDefinitionPath '
"\subfolder\PR\" -deleteAllFirst $false -filterPath "*.json" -topItems 0
```

#### Pull-Requests

``` Powershell
Pull-Requests -accountName "<Azure DevOps Accountname>" -projectName "<Azure DevOps ProjectName>" `
-repositoryNames @('<git-repo-001>','<git-repo-002>') -displayDebugMessages $true -token "<your Azure DevOps PAT token>" `
-dropFolderMail "C:\temp\MailDrop" -senderMail "<xxxx.xxxxx@domain.com>"
```

#### Release-Notes

``` Powershell
Release-Notes -accountName "<Azure DevOps Accountname>" -projectName "<Azure DevOps ProjectName>" `
-repositoryNames @('<git-repo-001>') -displayDebugMessages $true -token "<your Azure DevOps PAT token>" `
-dropFolderMail "C:\Temp\MailDrop" -senderMail "<xxxx.xxxxx@domain.com>"
```

## Overview folders

| Script            | Description                                                                                             |
|-------------------|---------------------------------------------------------------------------------------------------------|
| Content           | When files are generated by the powershell Scripts it is stored in this folder                          |
| Entities          | Modules with classes which can be used for reporting, making lists, etc                                 |
| Helpers           | Functions which can be used by Azure DevOps Powershell Functions                                        |
| Modules           | Modules with classes which contains most of the logic, which will be mostly called from the main script |
| Templates         | Files used in ps-script to generatie Content, i.e. part of Yaml build definition.                       |
